var pleaseSelect="Please Select";
var shippingDetail="Changing Shipping Agent or Importer may result in removal of shipping information";
function submitNext(){var a=document.forms[0];
if(a.action.indexOf("?")==-1){a.action=a.action+"?wizardNext=true";
}else{a.action=a.action+"&wizardNext=true";
}var c=document.getElementById("submitNextButton");
document.getElementById("value(actionType)").value="NEXT";
var b=document.getElementById("submitPreviousButton");
if(b!=null){b.disabled=true;
}if(c!=null){c.disabled=true;
}a.submit();
}function submitPrevious(d){var a=document.forms[0];
if(d&&d!=isNaN){a.reset();
}if(a.action.indexOf("?")==-1){a.action=a.action+"?wizardPrevious=true";
}else{a.action=a.action+"&wizardPrevious=true";
}var b=document.getElementById("submitPreviousButton");
var c=document.getElementById("submitNextButton");
document.getElementById("value(actionType)").value="PREVIOUS";
if(b!=null){b.disabled=true;
}if(c!=null){c.disabled=true;
}a.submit();
}function submitFinish(){var b=document.forms[0];
if(b.action.indexOf("?")==-1){b.action=b.action+"?wizardFinish=true";
}else{b.action=b.action+"&wizardFinish=true";
}document.getElementById("value(actionType)").value="NEXT";
var a=document.getElementById("submitFinishButton");
if(a!=null){a.disabled=true;
}b.submit();
}function gotoStep(a){gotoTab(a);
}function getById(a){if(document.getElementById(a)){return document.getElementById(a);
}else{return null;
}}function getValueById(a){var b=getById(a);
if(b!=null){if(b.value==""||b.value=="undefined"){return"";
}else{return b.value;
}}else{return"";
}}function setDisplayById(a,b){if(getById(a)){return getById(a).style.display=b;
}}function isCourierDeclaration(){if(getById("value(inboundChargoChanelId)")!=null&&(getValueById("value(inboundChargoChanelId)")==courierAir||getValueById("value(inboundChargoChanelId)")==courierLand)){return true;
}else{if(getById("value(outboundChargoChanelId)")!=null&&(getValueById("value(outboundChargoChanelId)")==courierAir||getValueById("value(outboundChargoChanelId)")==courierLand)){return true;
}}return false;
}function isCourierDecl(){if(isCourierDeclaration()){return"1";
}else{return"0";
}}function imposeMaxLength(b,a){return(b.value.length<=a);
}function isFreezoneAllowedDec(a){if(a==102||a==103||a==106||a==107||a==403||a==124){return true;
}return false;
}function TransMode(b,a){this.id=b;
this.name=a;
}function TransModeDocType(b,a){this.docTypeId=a;
this.transId=b;
}function att(b,a,c){this.name=b;
this.decTypeId=a;
this.visible=c;
this.pageId=1;
}function deleteFile(a){document.forms[0].action="invokeDeleteAttachment.do?id="+a;
document.forms[0].submit();
}function upload(a){var b=document.forms[0];
var g=document.getElementById("amendDeclarationWizardFlowId").value;
var f=document.getElementById("value(amendDeclarationWizardFlowId)").value;
var h=document.getElementById("selected").value;
var d=document.getElementById("value(actionType)").value;
var k=document.getElementById("value(amendmentReasonId)").value;
var c=document.getElementById("value(cargoStatusId)").value;
var e=document.getElementById("value(amendmentReason)").value;
b.action="invokeuploadDeclarationRequestAmend.do?&noOfFiles=1&requestId="+a+"&amendDeclarationWizardFlowId="+g+"&value(amendDeclarationWizardFlowId)="+f+"&selected="+h+"&value(actionType)="+d+"&value(amendmentReasonId)="+k+"&value(cargoStatusId)="+c+"&value(amendmentReason)="+e+"&returnAction=amendDeclarationWizard-.do&documentTypeId=16&destinationStepId=3";
b.submit();
}function viewDocument(){var a=document.getElementsByName("value(decRequestId)")[0].value;
window.open("./setupviewUploadDocuments.do?value(requestId)="+a,"Upload","width=600,height=500,location=no,menubar=no,resizable=no,scrollbars=yes");
}function populateAccounts(c){var b;
var a;
b=document.getElementById("indexedValues1["+c+"]").value;
for(i=0;
i<allPaymentModes.length;
i++){if(allPaymentModes[i].code==b){a=allPaymentModes[i].type;
break;
}}document.getElementById("indexedValues2["+c+"]").options.length=0;
j=1;
document.getElementById("indexedValues2["+c+"]").options[0]=new Option("Please Select","0");
for(i=0;
i<allAccounts.length;
i++){if(allAccounts[i].type==a){document.getElementById("indexedValues2["+c+"]").options[j]=new Option(allAccounts[i].name,allAccounts[i].code);
j++;
}}}function populateAccountsAmend(e,a,c){var d;
var b;
d=document.getElementById("indexedValues1["+e+"]").value;
for(i=0;
i<allPaymentModes.length;
i++){if(allPaymentModes[i].code==d){b=allPaymentModes[i].type;
break;
}}document.getElementById("indexedValues2["+e+"]").options.length=0;
j=1;
document.getElementById("indexedValues2["+e+"]").options[0]=new Option("Please Select","0");
for(i=0;
i<allAccounts.length;
i++){if(allAccounts[i].type==b){if(a=="DEB"&&allAccounts[i].category!="DEB"&&allAccounts[i].type=="CREDIT"){continue;
}if(c!=""&&allAccounts[i].name!=c){continue;
}document.getElementById("indexedValues2["+e+"]").options[j]=new Option(allAccounts[i].name,allAccounts[i].code);
j++;
}}}function resetPaymentModes(a){document.getElementById("indexedValues1["+a+"]").options[0].selected=true;
}function Account(a,d,b,c){this.name=a;
this.code=d;
this.type=b;
this.category=c;
}function PaymentMode(a,c,b){this.name=a;
this.code=c;
this.type=b;
}var MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");
var DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat");
function LZ(a){return(a<0||a>9?"":"0")+a;
}function _isInteger(c){var b="1234567890";
for(var a=0;
a<c.length;
a++){if(b.indexOf(c.charAt(a))==-1){return false;
}}return true;
}function _getInt(f,d,e,c){for(var a=c;
a>=e;
a--){var b=f.substring(d,d+a);
if(b.length<e){return null;
}if(_isInteger(b)){return b;
}}return null;
}function formatDate(L,G){if(!L){return;
}G=G+"";
var o="";
var x=0;
var J="";
var f="";
var n=L.getYear()+"";
var g=L.getMonth()+1;
var I=L.getDate();
var q=L.getDay();
var p=L.getHours();
var A=L.getMinutes();
var t=L.getSeconds();
var v,w,b,u,N,e,F,D,B,r,P,p,O,l,a,C;
var z=new Object();
if(n.length<4){n=""+(n-0+1900);
}z.y=""+n;
z.yyyy=n;
z.yy=n.substring(2,4);
z.M=g;
z.MM=LZ(g);
z.MMM=MONTH_NAMES[g-1];
z.NNN=MONTH_NAMES[g+11];
z.d=I;
z.dd=LZ(I);
z.E=DAY_NAMES[q+7];
z.EE=DAY_NAMES[q];
z.H=p;
z.HH=LZ(p);
if(p==0){z.h=12;
}else{if(p>12){z.h=p-12;
}else{z.h=p;
}}z.hh=LZ(z.h);
if(p>11){z.K=p-12;
}else{z.K=p;
}z.k=p+1;
z.KK=LZ(z.K);
z.kk=LZ(z.k);
if(p>11){z.a="PM";
}else{z.a="AM";
}z.m=A;
z.mm=LZ(A);
z.s=t;
z.ss=LZ(t);
while(x<G.length){J=G.charAt(x);
f="";
while((G.charAt(x)==J)&&(x<G.length)){f+=G.charAt(x++);
}if(z[f]!=null){o=o+z[f];
}else{o=o+f;
}}return o;
}function getDateFromFormat(z,q){z=z+"";
q=q+"";
var w=0;
var m=0;
var s="";
var f="";
var v="";
var h,g;
var b=new Date();
var k=b.getYear();
var u=b.getMonth()+1;
var t=1;
var d=b.getHours();
var r=b.getMinutes();
var o=b.getSeconds();
var l="";
while(m<q.length){s=q.charAt(m);
f="";
while((q.charAt(m)==s)&&(m<q.length)){f+=q.charAt(m++);
}if(f=="yyyy"||f=="yy"||f=="y"){if(f=="yyyy"){h=4;
g=4;
}if(f=="yy"){h=2;
g=2;
}if(f=="y"){h=2;
g=4;
}k=_getInt(z,w,h,g);
if(k==null){return 0;
}w+=k.length;
if(k.length==2){if(k>70){k=1900+(k-0);
}else{k=2000+(k-0);
}}}else{if(f=="MMM"||f=="NNN"){u=0;
for(var p=0;
p<MONTH_NAMES.length;
p++){var e=MONTH_NAMES[p];
if(z.substring(w,w+e.length).toLowerCase()==e.toLowerCase()){if(f=="MMM"||(f=="NNN"&&p>11)){u=p+1;
if(u>12){u-=12;
}w+=e.length;
break;
}}}if((u<1)||(u>12)){return 0;
}}else{if(f=="EE"||f=="E"){for(var p=0;
p<DAY_NAMES.length;
p++){var n=DAY_NAMES[p];
if(z.substring(w,w+n.length).toLowerCase()==n.toLowerCase()){w+=n.length;
break;
}}}else{if(f=="MM"||f=="M"){u=_getInt(z,w,f.length,2);
if(u==null||(u<1)||(u>12)){return 0;
}w+=u.length;
}else{if(f=="dd"||f=="d"){t=_getInt(z,w,f.length,2);
if(t==null||(t<1)||(t>31)){return 0;
}w+=t.length;
}else{if(f=="hh"||f=="h"){d=_getInt(z,w,f.length,2);
if(d==null||(d<1)||(d>12)){return 0;
}w+=d.length;
}else{if(f=="HH"||f=="H"){d=_getInt(z,w,f.length,2);
if(d==null||(d<0)||(d>23)){return 0;
}w+=d.length;
}else{if(f=="KK"||f=="K"){d=_getInt(z,w,f.length,2);
if(d==null||(d<0)||(d>11)){return 0;
}w+=d.length;
}else{if(f=="kk"||f=="k"){d=_getInt(z,w,f.length,2);
if(d==null||(d<1)||(d>24)){return 0;
}w+=d.length;
d--;
}else{if(f=="mm"||f=="m"){r=_getInt(z,w,f.length,2);
if(r==null||(r<0)||(r>59)){return 0;
}w+=r.length;
}else{if(f=="ss"||f=="s"){o=_getInt(z,w,f.length,2);
if(o==null||(o<0)||(o>59)){return 0;
}w+=o.length;
}else{if(f=="a"){if(z.substring(w,w+2).toLowerCase()=="am"){l="AM";
}else{if(z.substring(w,w+2).toLowerCase()=="pm"){l="PM";
}else{return 0;
}}w+=2;
}else{if(z.substring(w,w+f.length)!=f){return 0;
}else{w+=f.length;
}}}}}}}}}}}}}}if(w!=z.length){return 0;
}if(u==2){if(((k%4==0)&&(k%100!=0))||(k%400==0)){if(t>29){return 0;
}}else{if(t>28){return 0;
}}}if((u==4)||(u==6)||(u==9)||(u==11)){if(t>30){return 0;
}}if(d<12&&l=="PM"){d=d-0+12;
}else{if(d>11&&l=="AM"){d-=12;
}}var a=new Date(k,u-1,t,d,r,o);
return a.getTime();
}function parseDate(h){var f=(arguments.length==2)?arguments[1]:false;
generalFormats=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d");
monthFirst=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d");
dateFirst=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M");
var b=new Array("generalFormats",f?"dateFirst":"monthFirst",f?"monthFirst":"dateFirst");
var g=null;
for(var e=0;
e<b.length;
e++){var a=window[b[e]];
for(var c=0;
c<a.length;
c++){g=getDateFromFormat(h,a[c]);
if(g!=0){return new Date(g);
}}}return null;
}function formatDateElement(a,c){var b=$("#"+a).val();
return formatDateValue(b,c);
}function formatDateValue(a,c){var b=parseDate(a,"yyyy-MM-dd");
return b.format(c);
}function setValueAgent(a){var b=window;
if(window.opener){b=window.opener;
}b.document.getElementById("value(agentCode)").value=a;
closePopup("#searchAgent");
}function formatDateByElemId(a){var b=$("#"+a).val();
var c=parseDate(b);
var d=formatDate(c,"dd-MM-yyyy");
$("[name='value("+a+")']").val(d);
}function showLoading(b){var c='<img src="'+b+'/responsive/image/loading.gif" border="0" vspace="0" height="16px" width="16px" />&nbsp;&nbsp;&nbsp;<label>Please wait...</label>';
var a=b+"/image/";
$.msg({msgID:1,content:c,bgPath:a,clickUnblock:false,autoUnblock:false});
}function hideLoading(){$.msg("unblock",500,1);
}function closeModalDialog(a){$("#"+a).modal("hide");
}function showHidePanels(){$(".widget-box").each(function(){var b=$(this);
b.show();
if(!b.hasClass("no-hide")){var c=b.hasClass("collapsed");
c&&b.removeClass("collapsed");
c&&b.find(".widget-body-inner").css({overflow:"",display:""});
var a=$(".form-group:visible",b).size()>0;
b[a?"show":"hide"]();
c&&b.addClass("collapsed");
}});
}function resetForm(){$("form :input").each(function(){switch(this.type){case"password":case"select-multiple":case"select-one":case"text":case"textarea":$(this).val("");
break;
case"checkbox":case"radio":this.checked=false;
}});
resetErrorMessages();
}function resetErrorMessages(){staticErrorMsgHandling(false);
}function on_toggle_details(b,a){var c=$(b).is(":hidden");
var d=c?"+ View Details":"- Hide Details";
$(a).html(d);
}function checkSpecialChars(e){var d="!@#$%^&*()+=-[]\\';,.{}|\":<>?";
if(e!=null){var a=e.value.length;
var f=trim(e.value);
var c=0;
for(var b=0;
b<a;
b++){if(d.indexOf(f.charAt(b))!=-1){c++;
}}if(c==a){display_alert_modal("Only Special characters are not allowed!");
return false;
}}return true;
}function trim(b){if(b!=null){var a;
for(a=0;
a<b.length;
a++){if(b.charAt(a)!=" "){b=b.substring(a,b.length);
break;
}}for(a=b.length-1;
a>=0;
a--){if(b.charAt(a)!=" "){b=b.substring(0,a+1);
break;
}}if(b.charAt(0)==" "){return"";
}else{return b;
}}}function viewDeclarationPopUp(b,c){$(b).attr("data-toggle","modal");
var a="setupViewCustomsDeclaration.do?value(declarationId)="+c;
$(b).attr("data-iframe-url",a);
}function showPopUp(b,a){$(b).removeAttr("data-toggle");
$(b).data("iframe-url",a);
$(b).attr("data-toggle","modal");
$(b).attr("data-iframe-url",a);
}function viewVehiclePopUp(c){var a="";
$("input[name*='indexedValues1']").each(function(){if(this.checked){a+=this.name+"="+this.value+";";
}});
if(a.charAt(a.length-1)==";"){a=a.substr(a,a.length-1);
}$(c).attr("data-toggle","modal");
var b="invokeViewVehicle.do?"+a;
$(c).attr("data-iframe-url",b);
}function printVehicles(b){var a=hasSelectedDeclarations();
if(a==false){alert("Please select atleast one declaration to Print!");
return;
}viewVehiclePopUp(b);
}function hasSelectedDeclarations(){var a=false;
$("input[name*='indexedValues1']").each(function(){if(this.checked){a=true;
}});
return a;
}var responsiveTable=new function(){var f="footable table table-bordered table-hover";
var e="responsive";
var c=".hide-on-tablet";
var d=".hide-on-phone";
var a=".expand";
this.createAll=function(k){$(a).attr("data-class","expand footable-first-column");
$(c).attr("data-hide","tablet,phone");
$(d).attr("data-hide","phone");
var g=b();
var h=0;
$("table tr[class*='footable-row-detail']").remove();
g.each(function(){if(!$(this).hasClass(f)){$(this).addClass(f);
if(k){$(this).footable({breakpoints:{tablet:890,desktop:1200}});
}}});
};
this.ajaxBugFix=function(){var g=b().each(function(){$(this).trigger("footable_initialize");
});
};
function b(){return $("table[class*='"+e+"']");
}};
function AjaxError(){display_alert_modal("Sorry, Ajax call Failed");
}$(document).ready(function(){var a=$("input").not('[type="button"],[type="file"],[type="submit"],[type="reset"]').filter(function(){return $(this).parents(".submit-on-enter").size()<1;
});
a.keydown(function(b){if((b.which||b.keyCode)==13){b.preventDefault();
return false;
}});
});
window.alert=function(a){display_alert_modal(a);
};
function processGoToURL(a){window.location.href=a;
}function submitPrintVehiclesForm(){var a=validateDeclarationNo();
if(!a){return false;
}else{document.forms[0].target="";
document.forms[0].action="invokePrintVehiclesSearch.do";
return true;
}}function validateDeclarationNo(){var a=getById("value(declarationNo)").value.trim();
if(a.length!=0&&a!=""){if(isNaN(a)){alert("Please enter a valid whole number for the field Declaration No.");
getById("value(declarationNo)").focus();
getById("value(declarationNo)").select();
return false;
}if(a<0){alert("Declaration No. Cannot be a negative number");
getById("value(declarationNo)").focus();
getById("value(declarationNo)").select();
return false;
}if(a.length!=13){alert("Declaration No should be 13 characters long.");
getById("value(declarationNo)").focus();
getById("value(declarationNo)").select();
return false;
}}return true;
}function handleTrackBasicClick(){document.getElementById("value(advancedSearch)").value="false";
resetErrorMessages();
}function handleTrackAdvClick(){document.getElementById("value(advancedSearch)").value="true";
resetErrorMessages();
}function dtoToJsonController(){var a=getAngularScopeObject("[data-ng-controller='searchController']",0);
if(a){a.dto={};
a.findDto=function(b){angular.element("[data-ng-controller='searchController']").injector().get("searchFactory").ajaxCall(b,{success:function(c){if(!checkIfErrorAndHandle(c)){a.$apply(function(){a.dto=c.data["data-set"];
});
initDatePicker();
}},failure:function(c){fail_(c);
resetDto(a);
}});
};
}}function trapDomLoadEvent(i){var u=navigator.userAgent;
var e=
/*@cc_on!@*/
false;
var st=setTimeout;
if(/webkit/i.test(u)){st(function(){var dr=document.readyState;
if(dr=="loaded"||dr=="complete"){i();
}else{st(arguments.callee,10);
}},10);
}else{if((/mozilla/i.test(u)&&!/(compati)/.test(u))||(/opera/i.test(u))){document.addEventListener("DOMContentLoaded",i,false);
}else{if(e){(function(){var t=document.createElement("doc:rdy");
try{t.doScroll("left");
i();
t=null;
}catch(e){st(arguments.callee,0);
}})();
}else{window.onload=i;
}}}}function staticErrorMsgHandling(a,f,d,e){var b=$("ul[id='errorsList']:last");
var c=$("div[id='messageErrors']:last");
if(a){b.html(f);
c.show();
d&&d();
}else{b.html("");
c.hide();
e&&e();
}}function staticSuccessMsgHandling(a,f,d,e){var b=$("ul[id='errorsList']:last");
var c=$("div[id='messageErrors']:last");
if(a){b.html(f);
c.show();
d&&d();
}else{b.html("");
c.hide();
e&&e();
}}function disableBtns(){$(":submit, :button").attr("disabled","disabled");
}function ignoreUndefined(a,c){var b=$(a).attr(c);
if(!b){return"";
}return b;
}function dtoToJsonControllerPrint(){var a=getAngularScopeObject("[data-ng-controller='searchController']",0);
if(a){a.dto={};
a.findDtoPrint=function(b){angular.element("[data-ng-controller='searchController']").injector().get("searchFactory").ajaxCall(b,{success:function(c){if(!checkIfErrorAndHandle(c)){a.$apply(function(){a.dto=c.data["data-set"];
if(a.dto.requestListSize==1){$("#requestNo").val(a.dto.requestList[0]);
}else{if(a.dto.requestNo!=null){$("#requestNo").val(a.dto.requestNo);
$("#requestId").val(a.dto.requestNo);
}}});
initDatePicker();
}},failure:function(c){fail_(c);
resetDto(a);
}});
};
}}processResultDto=function(b){var a=JSON.parse(b);
return{dto:a[0],errors:a[1]};
};
hasErrors=function(c){var b;
var a=c.errors;
if(a.errors!=null&&a.errors!="null"){b=a.errors;
}return b;
};
function save(b,c,a,d){$("#value\\(isTemplate\\)").val(true);
aSyncPostRequest({url:a,query:c},{success:function(e){successSaveCallback(b,e);
},failure:function(e){failureSaveCallback(e,d);
}});
}function successSaveCallback(b,a){var c=processResultDto(a.data);
var d=hasErrors(c);
if(!d){$("#value\\(declarationId\\)").val(c.dto.declarationId);
submitNext();
}else{onValidationError(d,"messageErrors","errorsList");
}}function failureSaveCallback(a,b){window.location.href=b;
}function onValidationError(c,a,b){$("#"+b).empty();
$.each(c,function(d,e){$("#"+b).append("<li>"+e.error+"</li>");
});
$("#"+a).show();
}function noenter(){return !(window.event&&window.event.keyCode==13);
}function isCoastalDeclaration(){var a=getValueById("value(inboundChargoChanelId)");
if(a!=null&&a==coastal){return true;
}return false;
}function getSubmissionChannel(){return getValueById("value(inboundChargoChanelId)");
}function resizeDPPIFrame(){var b=parseInt(screen.width);
if(b<1024){b=1024;
}var a=b-parseInt(window.screenLeft)-50;
window.resizeTo(a,parseInt(window.document.body.scrollHeight+50));
}function countInputCharacters(e,f){if(e){var d=e.nodeName;
var b=e.value.length;
var g;
var c="characters left";
var a=e.value;
var h=[];
if(a!=null&&a!=""&&a!="undefined"){while(a){if(b<=f){g=(f-b);
h.push(a);
break;
}else{a=(a).substr(0,f);
e.value=a;
break;
}}}if(a!=""){$(e).nextAll(".countdown:first").text(g);
$(e).nextAll(".countdown2:first").text(c);
}else{$(e).nextAll(".countdown:first").text(f);
$(e).nextAll(".countdown2:first").text(c);
}}}function imposeMaxLengthTextArea(b,a){return(b.value.substr(0,a));
}